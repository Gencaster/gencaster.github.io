import{_ as L}from"./SectionHeading.66ec3ebe.js";import{_ as B}from"./NewsArchiveTile.5eacebcb.js";import{u as F,q as E}from"./query.6584d6ea.js";import{_ as x,i as T,l as w,s as V,o as s,c as r,j as v,a as u,F as h,r as g,n as b,t as q,b as y,h as D,g as I}from"./entry.e314d8e3.js";import"./formatDate.904a9da0.js";import"./preview.20d69f84.js";import"./utils.76ad4b47.js";const S={key:0},$=["data-tag","onClick"],j={class:"news-archive-container"},z={__name:"NewsArchive",async setup(A){let n,c;const{data:l}=([n,c]=T(()=>F("news",()=>E("news").sort({date:-1}).find())),n=await n,c(),n),a=w("All"),d=w(0),i=["All"];l.value.forEach(t=>t.tags.forEach(e=>{e=e.charAt(0).toUpperCase()+e.slice(1),i.includes(e)||i.push(e)}));function C(t,e){d.value=e,a.value=t.target.dataset.tag}const k=V(()=>a.value===""||a.value==="All"?l.value:l.value.filter(t=>t.tags.includes(a.value.toLowerCase()))),N=t=>{const p=i.map(m=>m.toLowerCase()).indexOf(t);d.value=p,a.value=t};return(t,e)=>{const p=L,m=B;return s(),r("section",null,[v(l)?(s(),r("div",S,[u("ul",null,[(s(),r(h,null,g(i,(_,o)=>u("li",{key:o},[u("button",{"data-tag":_,class:b({active:v(d)===o}),onClick:f=>C(f,o)},q(_),11,$)])),64))]),y(p,{heading:"News"}),u("div",j,[(s(!0),r(h,null,g(v(k),(_,o)=>(s(),D(m,{key:o,article:_,"show-tags":!0,"counter-ref":"",onClickedTag:e[0]||(e[0]=f=>N(f))},null,8,["article"]))),128))])])):I("",!0)])}}},H=x(z,[["__scopeId","data-v-93634180"]]),O={};function U(A,n){const c=H;return s(),r("main",null,[y(c)])}const W=x(O,[["render",U]]);export{W as default};
